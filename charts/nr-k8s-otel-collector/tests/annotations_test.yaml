suite: annotations
templates:
  - templates/deployment.yaml
  - templates/daemonset.yaml
release:
  name: my-release
  namespace: my-namespace
tests:
  - it: sets pod annotations to default when no values provided
set:
  cluster: my-cluster
  licenseKey: us-whatever
asserts:
  - notExists:
  path: spec.podAnnotations
template: templates/deployment.yaml
  - notExists:
  path: spec.podAnnotations
template: templates/daemonset.yaml
  - it: sets pod annotations from values
set:
  cluster: my-cluster
  licenseKey: us-whatever
  deployment:
podAnnotations:
  deploymentKey1: "deploymentValue1"
  deploymentKey2: "deploymentValue2"
  daemonset:
podAnnotations:
  daemonsetKey1: "daemonsetValue1"
  daemonsetKey2: "daemonsetValue2"
asserts:
  - equal:
  path: spec.podAnnotations.deploymentKey1
  value: deploymentValue1
template: templates/deployment.yaml
  - equal:
  path: spec.podAnnotations.deploymentKey2
  value: deploymentValue2
template: templates/deployment.yaml
  - equal:
  path: spec.podAnnotations.daemonsetKey1
  value: daemonsetValue1
template: templates/daemonset.yaml
  - equal:
  path: spec.podAnnotations.daemonsetKey2
  value: daemonsetValue2
template: templates/daemonset.yaml
